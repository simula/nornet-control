#  _     _                                              _       _
# | |__ (_) ___   ___ _ __ _ __  ___  ___  _ __    __ _| |_ __ | |__   __ _
# | '_ \| |/ _ \ / _ \ '__| '_ \/ __|/ _ \| '_ \  / _` | | '_ \| '_ \ / _` |
# | |_) | | (_) |  __/ |  | | | \__ \ (_) | | | || (_| | | |_) | | | | (_| |
# |_.__// |\___/ \___|_|  |_| |_|___/\___/|_| |_(_)__,_|_| .__/|_| |_|\__,_|
#     |__/                                               |_|

network:
  version: 2
  renderer: networkd

  # ###### Interfaces #######################################################
  ethernets:
    # ====== NorNet =========================================================
    # NOTE: The NorNet interface is configured in nornet.yaml!

    # ====== Provider One ===================================================
    enp0s8:
      match:
        name: enp0s8
      set-name: isp1
      dhcp4: no
      accept-ra: no
      addresses:
        - 172.16.1.2/24
        - fd00:16:1::2/64
      routes:
        - to: 172.16.0.0/16
          via: 172.16.1.1
        - to: fd00:16::/32
          via: fd00:16:1::1

    # ====== Provider Two ===================================================
    enp0s9:
      match:
        name: enp0s9
      set-name: isp2
      dhcp4: no
      accept-ra: no
      addresses:
        - 172.17.1.2/24
        - fd00:17:1::2/64
      routes:
        - to: 172.17.0.0/16
          via: 172.17.1.1
        - to: fd00:17::/32
          via: fd00:17:1::1

    # ====== Management =====================================================
    enp0s10:
      match:
        name: enp0s10
      set-name: oslomet
      dhcp4: yes
      dhcp4-overrides:
        use-dns: true
        use-routes: true
      dhcp-identifier: mac
      accept-ra: yes


#  tunnels:
#    test1:
#      mode: gre
#      local: 172.16.1.2
#      remote: 172.16.4.2
#      key: 12345678
#      mtu: 1476
#      addresses:
#        - 192.168.254.1/24
