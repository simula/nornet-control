#                  __                _         _ _                   _       _            _            _   
#   __ _ _ __ ___ / _|___  ___ _ __ | | _____ | | | ___ _ __    __ _| |_ __ | |__   __ _ | |_ ___  ___| |_ 
#  / _` | '__/ _ \ |_/ __|/ _ \ '_ \| |/ / _ \| | |/ _ \ '_ \  / _` | | '_ \| '_ \ / _` || __/ _ \/ __| __|
# | (_| | | |  __/  _\__ \  __/ | | |   < (_) | | |  __/ | | || (_| | | |_) | | | | (_| || ||  __/\__ \ |_ 
#  \__, |_|  \___|_| |___/\___|_| |_|_|\_\___/|_|_|\___|_| |_(_)__,_|_| .__/|_| |_|\__,_(_)__\___||___/\__|
#  |___/                                                              |_|                                  

network:
  version: 2
  renderer: networkd

  # ###### Interfaces #######################################################
  ethernets:
    enp0s3:
      match:
        name: enp0s3
      set-name: nornet

      # ====== Addresses ====================================================
      dhcp4: no
      accept-ra: no
      addresses:
        # ------ ISP #255-----------------------------------
        - 11.255.1.3/24
        - fd00:cafe:0:ff01::3/64
        # ------ ISP #254-----------------------------------
        - 11.254.1.3/24
        - fd00:cafe:0:fe01::3/64

      # ====== Routes =======================================================
      routes:
        # ------ ISP #255-----------------------------------
        - to: default
          via: 11.255.1.1
          metric: 5
        - to: 11.255.1.0/24
          scope: link
          table: 1255
        - to: default
          via: 11.255.1.1
          table: 1255
        - to: default
          via: fd00:cafe:0:ff01::1
          metric: 5
        - to: fd00:cafe:0:ff01::/64
          scope: link
          table: 1255
        - to: default
          via: fd00:cafe:0:ff01::1
          table: 1255
        # ------ ISP #254-----------------------------------
        - to: default
          via: 11.254.1.1
          metric: 11
        - to: 11.254.1.0/24
          scope: link
          table: 1254
        - to: default
          via: 11.254.1.1
          table: 1254
        - to: default
          via: fd00:cafe:0:fe01::1
          metric: 11
        - to: fd00:cafe:0:fe01::/64
          scope: link
          table: 1254
        - to: default
          via: fd00:cafe:0:fe01::1
          table: 1254

      # ====== Routing Policy ===============================================
      routing-policy:
        # ------ ISP #255-----------------------------------
        - from: 11.255.1.0/24
          table: 1255
          priority: 355
        - from: fd00:cafe:0:ff01::/64
          table: 1255
          priority: 355
        # ------ ISP #254-----------------------------------
        - from: 11.254.1.0/24
          table: 1254
          priority: 354
        - from: fd00:cafe:0:fe01::/64
          table: 1254
          priority: 354

      # ====== DNS Servers ==================================================
      nameservers:
        addresses:
          - 11.255.1.1
          - fd00:cafe:0:ff01::1
        search:
          - alpha.test
          - test
