#                     _                           _                                                   _            _   
#  ___  ___   ___  __| | ___ _ __ _ __ ___   __ _| |_ __ ___    __ _  __ _ _ __ ___  _ __ ___   __ _ | |_ ___  ___| |_ 
# / __|/ _ \ / _ \/ _` |/ _ \ '__| '_ ` _ \ / _` | | '_ ` _ \  / _` |/ _` | '_ ` _ \| '_ ` _ \ / _` || __/ _ \/ __| __|
# \__ \ (_) |  __/ (_| |  __/ |  | | | | | | (_| | | | | | | || (_| | (_| | | | | | | | | | | | (_| || ||  __/\__ \ |_ 
# |___/\___/ \___|\__,_|\___|_|  |_| |_| |_|\__,_|_|_| |_| |_(_)__, |\__,_|_| |_| |_|_| |_| |_|\__,_(_)__\___||___/\__|
#                                                              |___/                                                   

network:
  version: 2
  renderer: networkd

  # ###### Interfaces #######################################################
  ethernets:
    enp0s3:
      match:
        name: enp0s3
      set-name: nornet

      # ====== Addresses ====================================================
      dhcp4: no
      accept-ra: no
      addresses:
        # ------ ISP #255-----------------------------------
        - 11.255.3.50/24
        - fd00:cafe:0:ff03::32/64
        # ------ ISP #254-----------------------------------
        - 11.254.3.50/24
        - fd00:cafe:0:fe03::32/64

      # ====== Routes =======================================================
      routes:
        # ------ ISP #255-----------------------------------
        - to: default
          via: 11.255.3.1
          metric: 5
        - to: 11.255.3.0/24
          scope: link
          table: 1255
        - to: default
          via: 11.255.3.1
          table: 1255
        - to: default
          via: fd00:cafe:0:ff03::1
          metric: 5
        - to: fd00:cafe:0:ff03::/64
          scope: link
          table: 1255
        - to: default
          via: fd00:cafe:0:ff03::1
          table: 1255
        # ------ ISP #254-----------------------------------
        - to: default
          via: 11.254.3.1
          metric: 11
        - to: 11.254.3.0/24
          scope: link
          table: 1254
        - to: default
          via: 11.254.3.1
          table: 1254
        - to: default
          via: fd00:cafe:0:fe03::1
          metric: 11
        - to: fd00:cafe:0:fe03::/64
          scope: link
          table: 1254
        - to: default
          via: fd00:cafe:0:fe03::1
          table: 1254

      # ====== Routing Policy ===============================================
      routing-policy:
        # ------ ISP #255-----------------------------------
        - from: 11.255.3.0/24
          table: 1255
          priority: 355
        - from: fd00:cafe:0:ff03::/64
          table: 1255
          priority: 355
        # ------ ISP #254-----------------------------------
        - from: 11.254.3.0/24
          table: 1254
          priority: 354
        - from: fd00:cafe:0:fe03::/64
          table: 1254
          priority: 354

      # ====== DNS Servers ==================================================
      nameservers:
        addresses:
          - 11.255.3.1
          - fd00:cafe:0:ff03::1
        search:
          - gamma.test
          - test
